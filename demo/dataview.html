<!DOCTYPE html>
<html>
  <head>
    <title>DataView Demo</title>
    <link rel="stylesheet" href="demopage.css"/>
    <style>
        #dataBound { border: 1px solid #666; }
    </style>
  </head>
  <body>
    <h1>DataView Demo</h1>
    <h4>Select an option:</h4>
    <ul>
        <li><a href="javascript:_fetch('1');">= 1 =</a></li>
        <li><a href="javascript:_fetch('2');">= 2 =</a></li>
        <li><a href="javascript:_fetch('3');">= 3 =</a></li>
        <li><a href="javascript:_fetch('4');">= 4 =</a></li>
    </ul>

    <h4>Requested data:</h4>
    <div id="dataBound" style="height:50px">
        <strong>Name:</strong> {first_name} {surname}<br/>
        <strong>Birthday:</strong> {birthDate}
    </div>
  </body>

  <script src="../aw-core.js"></script>
  <script src="../awDataView.js"></script>
  <script>
      window.dview = new aw.DataView(aw.core.byId("dataBound"), {
          dataUrl: 'dataPump.php/{id}',
          fetchMessage: 'Please wait...',
          errback: errCallback
      });
      function _fetch(n) {
          dview.fetch({id:n});
      }
      function errCallback(args) {
          aw.core.byId('dataBound').innerHTML = 'Unable to fetch the requested data; Error details: ' + args.reason;
          //console.error('Unable to fetch the requested data.');
          //console.log('Failure details: ', args.reason);
      }
  </script>
</html>