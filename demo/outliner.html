<!DOCTYPE html>
<html>
  <head>
    <title>Atto Outliner Example</title>
    <link rel="stylesheet" href="demopage.css"/>
  </head>
  <body>
    <h1>Atto Outliner Example</h1>

    <h2>List 1 (ordered):</h2>
    <pre class="easy-list ordered">
    - Some task
    - Another task
      - here's a subtask
      - and another
        - and this one has a sub-sub task
      - this one doesn't
      - last subtask
        - sub-subtask A
        - sub-subtask B
    - Top-level task III (no subtasks)
    </pre>

    <h2>List 2 (unordered):</h2>
    <pre class="easy-list">
    * bullet 1
    * bullet 2
      * bullet 2.1
    </pre>

    <section class="controls">
      <button id="btnConvert">Convert all .easy-list nodes</button>
      <p id="status" class="hidden"></p>
    </section>

    <script src="/js/require.js"></script>
    <script>
        require.config({
            baseUrl: '../..'
        });
        require(["atto/core","atto/outliner"], function(atto, listify) {
            var btnConvert = atto.byId('btnConvert');
            if (btnConvert) {
               btnConvert.onclick = function convert() {
                  // find and operate on any nodes in the current page with a class of easy-list (just an arbitrary name; could be anything)
                  var lists = document.querySelectorAll(".easy-list");
                  for (var i=0,listCount=lists.length; i<listCount; i++) {
                      listify(lists[i]);
                  }
                  var msg = "Converted " + listCount + " easy-list node" + (listCount>1 ? 's.' : '.');
                  var p = atto.byId('status');
                  if (p) {
                      p.innerHTML = msg;
                      p.classList.toggle('hidden');
                  } else {
                      console.log(msg);
                  }
                  this.classList.add('hidden');
               }
            }
        });
    </script>
  </body>
</html>